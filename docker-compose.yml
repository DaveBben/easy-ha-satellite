services:
  wakeword:
    build:
      context: .
      args:
        PUID: ${UID}
        PGID: ${GID}
        AUDIO_GID: ${AUDIO_GID}
        WAKEWORD_MODEL_NAME: hey_jarvis 
    environment:
      - BASE_URL=192.168.1.16:9292
      - WAKEWORD_MODEL_NAME=hey_jarvis
      - WW_THRESHOLD=0.5
      - INFERENCE_FRAMEWORK=onnx
      - PUID=${UID}
      - PGID=${GID}
      - AUDIO_GID=${AUDIO_GID}
    devices:
      - /dev/snd
    restart: unless-stopped
    group_add:   
      - ${AUDIO_GID}